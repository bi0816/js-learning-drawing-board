{"mappings":"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","sources":["src/js/index.js"],"sourcesContent":["class DrawingBoard {\r\n  isMouseDown = false; // T, F\r\n  isNavigatorVisible = false;\r\n  undoArray = [];\r\n  CLASS_NAME = {\r\n    active: 'active',\r\n    hide: 'hide'\r\n  }\r\n  CURSOR_VALUE = {\r\n    default: 'default',\r\n    active: 'crosshair'\r\n  }\r\n  COLOR_VALUE = {\r\n    eraser: '#fff',\r\n    background: '#fff',\r\n  }\r\n  MODE = {\r\n    none: \"NONE\",\r\n    brush: \"BRUSH\",\r\n    eraser: \"ERASER\"\r\n  }\r\n  STATUS = \"NONE\";\r\n\r\n  container;\r\n  canvas;\r\n  toolbar;\r\n  brush;\r\n  brushPanel;\r\n  brushSize;\r\n  brushSizeLabel;\r\n  brushSizePreview;\r\n  colorPicker;\r\n  eraser;\r\n  navigator;\r\n  navigatorContainer;\r\n  navigatorIMG;\r\n  undo;\r\n  clear;\r\n  btnDownload;\r\n\r\n  constructor() {\r\n    this.assignElement();\r\n    this.initContext();\r\n    this.initCanvasBackground();\r\n    this.addEvent();\r\n  }\r\n\r\n  assignElement() {\r\n    this.container = document.querySelector(\"#container\");\r\n    this.canvas = this.container.querySelector(\"#canvas\");\r\n    this.toolbar = this.container.querySelector(\"#toolbar\");\r\n    this.brush = this.toolbar.querySelector(\"#brush\");\r\n    this.brushPanel = this.container.querySelector(\"#brushPanel\");\r\n    this.brushSize = this.brushPanel.querySelector(\"#brushSize\");\r\n    this.brushSizeLabel = this.brushPanel.querySelector(\".brushSizeLabel\");\r\n    this.brushSizePreview = this.brushPanel.querySelector(\"#brushSizePreview\");\r\n    this.colorPicker = this.toolbar.querySelector(\"#colorPicker\");\r\n    this.eraser = this.toolbar.querySelector(\"#eraser\");\r\n    this.navigator = this.toolbar.querySelector(\"#navigator\");\r\n    this.navigatorContainer = this.container.querySelector(\"#imgNav\");\r\n    this.navigatorIMG = this.navigatorContainer.querySelector(\"#canvasImg\");\r\n    this.undo = this.toolbar.querySelector(\"#undo\");\r\n    this.clear = this.toolbar.querySelector(\"#clear\");\r\n    this.btnDownload = this.toolbar.querySelector(\"#download\");\r\n  }\r\n\r\n  initContext() {\r\n    this.context = this.canvas.getContext(\"2d\");\r\n  }\r\n\r\n  initCanvasBackground() {\r\n    this.context.fillStyle = this.COLOR_VALUE.background;\r\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n  }\r\n\r\n  addEvent() {\r\n    this.brush.addEventListener(\"click\", this.onClickBrush.bind(this));\r\n    this.canvas.addEventListener(\"mousedown\", this.onMouseDown.bind(this));\r\n    this.canvas.addEventListener(\"mousemove\", this.onMouseMove.bind(this));\r\n    this.canvas.addEventListener(\"mouseup\", this.onMouseUp.bind(this));\r\n    this.canvas.addEventListener(\"mouseout\", this.onMouseOut.bind(this));\r\n    this.brushSize.addEventListener(\"input\", this.onChangeBrushSize.bind(this));\r\n    this.colorPicker.addEventListener(\"input\", this.onChangeColor.bind(this));\r\n    this.eraser.addEventListener(\"click\", this.onClickeraser.bind(this));\r\n    this.navigator.addEventListener('click', this.onClickNavigator.bind(this));\r\n    this.undo.addEventListener('click', this.onClickUndo.bind(this));\r\n    this.clear.addEventListener('click', this.onClickClear.bind(this));\r\n    this.btnDownload.addEventListener('click', this.onClickDownload.bind(this));\r\n  }\r\n\r\n  onClickDownload(e) {\r\n    this.btnDownload.href = this.canvas.toDataURL(\"image/jpg\",1);\r\n    this.btnDownload.download = \"image.jpeg\";\r\n  }\r\n\r\n  onClickClear() {\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    this.undoArray = [];\r\n    this.updateNavigator();\r\n    this.initCanvasBackground();\r\n  }\r\n\r\n  onClickUndo() {\r\n    if (this.undoArray.length === 0) {\r\n      alert('더이상 실행 취소 불가');\r\n      return;\r\n    };\r\n    let prevDataUrl = this.undoArray.pop();\r\n    let prevImg = new Image();\r\n    prevImg.onload = () => {\r\n      this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      this.context.drawImage(prevImg, 0, 0, this.canvas.width, this.canvas.height, 0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n    prevImg.src = prevDataUrl;\r\n    if (this.isNavigatorVisible) {\r\n      this.navigatorIMG.src = prevDataUrl;\r\n    }\r\n  }\r\n\r\n  saveState() {\r\n    if(this.undoArray.length > 9) {\r\n      this.undoArray.shift();\r\n      this.undoArray.push(this.canvas.toDataURL());\r\n    } else {\r\n      this.undoArray.push(this.canvas.toDataURL());\r\n    }\r\n  }\r\n\r\n  updateNavigator() {\r\n    if(!this.isNavigatorVisible) return;\r\n    this.navigatorIMG.src = this.canvas.toDataURL();\r\n  }\r\n\r\n  onChangeColor(e) {\r\n    this.brushSizePreview.style.background = e.target.value;\r\n  }\r\n\r\n  onChangeBrushSize(e) {\r\n    this.brushSizeLabel.innerHTML = `${e.target.value} Size`;\r\n    this.brushSizePreview.style.width = `${e.target.value}px`;\r\n    this.brushSizePreview.style.height = `${e.target.value}px`;\r\n  }\r\n\r\n  onMouseOut() {\r\n    if (this.STATUS === this.MODE.none) return;\r\n    this.isMouseDown = false;\r\n  }\r\n\r\n  onMouseUp() {\r\n    if (this.STATUS === this.MODE.none) return;\r\n    this.isMouseDown = false;\r\n    this.updateNavigator();\r\n  }\r\n\r\n  onMouseMove(e) {\r\n    if (!this.isMouseDown) return;\r\n    const currentPosition = this.getMousePosition(e);\r\n    this.context.lineTo(currentPosition.x, currentPosition.y);\r\n    this.context.stroke();\r\n    this.updateNavigator();\r\n  }\r\n\r\n  onMouseDown(e) {\r\n    if (this.STATUS === this.MODE.none) return;\r\n    this.isMouseDown = true;\r\n    const currentPosition = this.getMousePosition(e);\r\n    this.context.beginPath();\r\n    this.context.moveTo(currentPosition.x, currentPosition.y);\r\n    this.context.lineCap = \"round\";\r\n    if (this.STATUS === this.MODE.brush) {\r\n      this.context.strokeStyle = this.colorPicker.value;\r\n      this.context.lineWidth = this.brushSize.value;\r\n    } else if (this.STATUS === this.MODE.eraser) {\r\n      this.context.strokeStyle = this.COLOR_VALUE.eraser;\r\n      this.context.lineWidth = 50;\r\n    }\r\n    this.saveState();\r\n  }\r\n\r\n  getMousePosition(e) {\r\n    const boundaries = this.canvas.getBoundingClientRect();\r\n    return {\r\n      x: e.clientX - boundaries.left,\r\n      y: e.clientY - boundaries.top,\r\n    };\r\n  }\r\n\r\n  onClickBrush(e) {\r\n    const isActive = e.currentTarget.classList.contains(this.CLASS_NAME.active);\r\n    this.STATUS = isActive ? this.MODE.none : this.MODE.brush;\r\n    this.canvas.style.cursor = isActive ? this.CURSOR_VALUE.default : this.CURSOR_VALUE.active;\r\n    e.currentTarget.classList.toggle(this.CLASS_NAME.active);\r\n    this.brushPanel.classList.toggle(this.CLASS_NAME.hide);\r\n    this.eraser.classList.remove(this.CLASS_NAME.active);\r\n  }\r\n\r\n  onClickeraser(e) {\r\n    const isActive = e.currentTarget.classList.contains(this.CLASS_NAME.active);\r\n    this.STATUS = isActive ? this.MODE.none : this.MODE.eraser;\r\n    this.canvas.style.cursor = isActive ? this.CURSOR_VALUE.default : this.CURSOR_VALUE.active;\r\n    e.currentTarget.classList.toggle(this.CLASS_NAME.active);\r\n    this.brush.classList.remove(this.CLASS_NAME.active);\r\n    this.brushPanel.classList.add(this.CLASS_NAME.hide);\r\n  }\r\n\r\n  onClickNavigator(e) {\r\n    this.isNavigatorVisible = !e.currentTarget.classList.contains(this.CLASS_NAME.active);\r\n    e.currentTarget.classList.toggle(this.CLASS_NAME.active);\r\n    this.navigatorContainer.classList.toggle(this.CLASS_NAME.hide);\r\n    this.updateNavigator();\r\n  }\r\n}\r\n\r\nnew DrawingBoard();\r\n"],"names":[],"version":3,"file":"index.de5c0784.js.map","sourceRoot":"/__parcel_source_root/"}